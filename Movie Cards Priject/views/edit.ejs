<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Movie</title>
  <link rel="stylesheet" href="/style.css">
</head>

<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="container">
      <a href="/" class="logo">ðŸŽ¬ MovieVerse</a>
      <ul class="nav-links">
        <li><a href="/">Home</a></li>
        <li><a href="/add-movie">Add Movie</a></li>
        <li><a href="#" class="active">Edit Movie</a></li>
      </ul>
    </div>
  </nav>

  <!-- Edit Movie Form -->
  <main class="form-container">
    <h2>Edit Movie</h2>
    <form action="/moviesupdate" method="post" enctype="multipart/form-data" class="movie-form">

      <!-- Hidden ID field -->
      <input type="hidden" name="id" value="<%= movie._id %>">

      <label for="title">Movie Title</label>
      <input type="text" id="title" name="title" value="<%= movie.title %>" required>

      <label for="description">Description</label>
      <textarea id="description" name="description" rows="4" required><%= movie.description %></textarea>

      <label for="genre">Genre</label>
      <select id="genre" name="genre" required>
        <option value="">-- Select Genre --</option>
        <option value="Bollywood" <%= movie.genre === "Bollywood" ? "selected" : "" %>>Bollywood</option>
        <option value="Romance" <%= movie.genre === "Romance" ? "selected" : "" %>>Romance</option>
        <option value="Comedy" <%= movie.genre === "Comedy" ? "selected" : "" %>>Comedy</option>
        <option value="Hollywood" <%= movie.genre === "Hollywood" ? "selected" : "" %>>Hollywood</option>
        <option value="Action" <%= movie.genre === "Action" ? "selected" : "" %>>Action</option>
        <option value="Drama" <%= movie.genre === "Drama" ? "selected" : "" %>>Drama</option>
        <option value="Gujarati" <%= movie.genre === "Gujarati" ? "selected" : "" %>>Gujarati</option>
        <option value="Family" <%= movie.genre === "Family" ? "selected" : "" %>>Family</option>
        <option value="Adventure" <%= movie.genre === "Adventure" ? "selected" : "" %>>Adventure</option>
      </select>


      <label for="year">Release Year</label>
      <input type="number" id="year" name="year" min="1900" max="2099" value="<%= movie.year %>" required>

      <label for="rating">Rating (1-10)</label>
      <input type="number" id="rating" name="rating" min="1" max="10" step="0.1" value="<%= movie.rating %>" required>

      <label for="image">Upload Poster (Leave empty to keep old)</label>
      <input type="file" id="image" name="image">

      <!-- Existing Image Preview -->
      <div class="preview">
        <p>Current Poster:</p>
        <img src="<%= movie.image %>" width="120" alt="<%= movie.title %>">
      </div>

      <button type="submit" class="btn submit">Update Movie</button>
    </form>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>&copy; <%= new Date().getFullYear() %> MovieVerse. All rights reserved.</p>
  </footer>

</body>

</html>